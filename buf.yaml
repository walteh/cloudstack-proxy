# yaml-language-server: $schema=https://json.schemastore.org/buf.json

version: v2

modules:
  - name: github.com/walteh/cloudstack-proxy/proto
    path: proto
  - name: github.com/walteh/cloudstack-proxy/gen/proto-remotes
    path: gen/proto-remotes

breaking:
    use:
      - FILE
deps: []
lint:
    use:
      - DEFAULT
    except:
      - RPC_REQUEST_RESPONSE_UNIQUE
      - RPC_RESPONSE_STANDARD_NAME
      - IMPORT_USED

    rpc_allow_same_request_response: true
    rpc_allow_google_protobuf_empty_requests: true
    rpc_allow_google_protobuf_empty_responses: false

---
# yaml-language-server: $schema=https://json.schemastore.org/any.json

buf3pd:
    path: gen/proto-remotes
    deps:
      - type: git
        repo: github.com/bufbuild/protovalidate
        path: proto/protovalidate
        ref: heads/main
      - type: git
        repo: github.com/googleapis/googleapis
        path: .
        filter:
          - "google/api/**"
        ref: heads/master
